(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{6821:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(5438)}])},5438:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(5893),s=n(7294),r=n(1163),l=n(1670),i=n(1095),c=n(6528),o=n(4019),u=n(7385),d=n(109),f=n(3029),p=()=>{let[e,t]=(0,s.useState)(""),[n,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1),[b,N]=(0,s.useState)(""),k=(0,r.useRouter)(),S=async t=>{t.preventDefault();try{await (0,u.e5)(o.I,e,n),o.I.currentUser?(y(!1),k.push("/account")):(N("Authentication failed. Please try again."),y(!0))}catch(e){N(e.message),y(!0)}},_=async t=>{if(t.preventDefault(),!m){N("You must agree to the terms of use and privacy policy."),y(!0);return}if(n!==h){N("Passwords do not match."),y(!0);return}try{let t=(await (0,u.Xb)(o.I,e,n)).user;await (0,d.pl)((0,d.JU)(o.db,"users",t.uid),{email:t.email,role:"user"}),o.I.currentUser?(y(!1),k.push("/account")):(N("Account creation failed. Please try again."),y(!0))}catch(e){N(e.message),y(!0)}};return(0,a.jsx)("div",{className:"login-container bg-accent flex justify-center items-center",onKeyDown:e=>{"Enter"===e.key&&(j?_(e):S(e))},children:(0,a.jsxs)("div",{className:"bg-base-100 rounded-lg shadow-2xl lg:m-20 m-10 flex flex-col align-center justify-center items-left text-left lg:p-20 p-12",children:[(0,a.jsx)("h1",{children:j?"Sign Up":"Sign In"}),(0,a.jsxs)("div",{className:"sign-in-info flex flex-col justify-between mt-4",children:[(0,a.jsx)(l.W,{type:"email",placeholder:"Email",value:e,name:"email",onChange:e=>t(e.target.value)}),(0,a.jsx)(l.W,{type:"password",placeholder:"Password",value:n,name:"password",onChange:e=>p(e.target.value)}),j&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(l.W,{type:"password",placeholder:"Confirm Password",value:h,name:"confirmPassword",onChange:e=>x(e.target.value)}),(0,a.jsxs)("div",{className:"flex flex-row justify-start items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:m,onChange:()=>g(!m)}),(0,a.jsx)("p",{className:"p-3 text-wrap text-gray-600",children:"I agree to the terms of use and privacy policy."})]})]}),w&&(0,a.jsx)(f.b,{message:b}),(0,a.jsx)("div",{className:"sign-in-up-buttons",children:j?(0,a.jsx)(i.bH,{label:"Sign Up",icon:c.qk,onClick:()=>{_({preventDefault:()=>{}})}}):(0,a.jsx)(i.bH,{label:"Sign In",icon:c.qk,onClick:()=>{S({preventDefault:()=>{}})}})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:[j?"":"Don't have an account?",(0,a.jsx)("span",{className:"font-bold text-red-500 cursor-pointer ml-2",onClick:()=>{v(!j),y(!1)},children:j?"Back to Sign In Page":"Sign Up Here"})]})})]})})},h=()=>(0,a.jsx)(p,{})},3029:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var a=n(5893);n(7294);var s=n(6528);let r=e=>{let{message:t}=e;return(0,a.jsxs)("div",{role:"alert",className:"alert alert-error text-white",children:[s.mz,(0,a.jsx)("span",{children:t})]})}},1670:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var a=n(5893);n(7294);let s=e=>{let{type:t,placeholder:n,value:s,name:r,onChange:l}=e;return(0,a.jsx)("input",{type:t,placeholder:n,value:s,name:r,onChange:l,className:"max-w-96 border border-gray-300 rounded-md"})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6821)}),_N_E=e.O()}]);