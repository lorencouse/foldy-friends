(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{7250:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return l(9194)}])},9194:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return N}});var n=l(5893),t=l(7294),i=l(1937);let a=e=>{let{heading:s,addressInfo:l,setAddressInfo:t}=e;return(0,n.jsxs)("div",{className:"mx-2",children:[(0,n.jsx)("h3",{children:s}),(0,n.jsx)("div",{className:"customer-information flex flex-col w-full",children:(0,n.jsx)(i.I,{addressInfo:l,setAddressInfo:t})})]})};var r=l(1095),c=l(1877),d=l(3732),o=l(6528),u=l(4273),f=l(109),m=l(4019),x=l(1623),h=l(3029),p=l(1163),j=l(6135),v=l(3250),g=()=>{let e=(0,p.useRouter)(),[s,l]=(0,t.useState)(!1),{cartCount:i}=(0,c.g)(),{user:g,loading:N}=(0,u.Z)(),[_,w]=(0,t.useState)(!1),[k,b]=(0,t.useState)(""),[y,I]=(0,t.useState)(v.VM),[S,C]=(0,t.useState)(v.VM);async function E(){if(""===y.name||""===y.address_1||""===y.city||""===y.state||""===y.zip||""===y.country||""===y.email||""===y.phone){b("Please fill in all required fields"),w(!0),setTimeout(()=>w(!1),2e3);return}b("Order submitted!"),I(v.VM),w(!0),setTimeout(()=>{w(!1),e.push("/")},2e3)}return((0,t.useEffect)(()=>{let e=async()=>{if(g){let e=(0,f.JU)(m.db,"users",g.id),s=await (0,f.QT)(e);if(s.exists()){let e=s.data();I(e.shipping_info||y),C(e.billing_info||S)}else{let s={email:m.I.currentUser?.email,shipping_info:y,billing_info:S};await (0,f.pl)(e,s)}}};g&&e()},[g]),N)?(0,n.jsx)(j.a,{}):(0,n.jsx)("div",{className:"flex justify-center sm:mt-6 mt-4 mb-12",children:(0,n.jsxs)("div",{className:"checkout-container max-w-5xl",children:[(0,n.jsx)("h1",{className:"mx-4",children:"Check Out"}),i>0?(0,n.jsxs)("div",{className:"flex flex-row flex-wrap md:grid md:grid-cols-2 justify-around",children:[(0,n.jsxs)("div",{className:"checkout-left-col flex flex-col",children:[(0,n.jsx)(a,{heading:"Shipping Info",addressInfo:y,setAddressInfo:I}),(0,n.jsxs)("div",{className:"billing-checkbox flex items-center font-semibold ml-2",onClick:()=>l(!s),children:[(0,n.jsx)("input",{type:"checkbox",checked:s,readOnly:!0}),(0,n.jsx)("label",{children:"Separate Billing Info"})]})]}),(0,n.jsxs)("div",{className:"checkout-right-col flex flex-col justify-around",children:[s&&(0,n.jsx)("div",{className:"w-full mb-10",children:(0,n.jsx)(a,{heading:"Billing Info",addressInfo:S,setAddressInfo:C})}),(0,n.jsx)(x.i,{}),(0,n.jsxs)("div",{className:"flex flex-col place-order-button w-full items-center justify-end",children:[_&&(0,n.jsx)(h.b,{message:k}),(0,n.jsx)(r.bH,{icon:o.w7,label:"Place Order",onClick:()=>E()})]})]})]}):(0,n.jsx)("div",{className:"empty-cart",children:(0,n.jsx)(d.Q,{})})]})})},N=()=>(0,n.jsx)(g,{})},1937:function(e,s,l){"use strict";l.d(s,{I:function(){return a}});var n=l(5893);l(7294);var t=l(1670);let i=["name","address_1","address_2","city","state","zip","country","email","phone"],a=e=>{let{addressInfo:s,setAddressInfo:l}=e,a=e=>{let{name:s,value:n}=e.target;l(e=>({...e,[s]:n}))},r=e=>"email"===e?"email":"phone"===e?"tel":"text";return(0,n.jsx)("div",{children:i.map(e=>(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("label",{className:"ml-2 mt-4 font-semibold",htmlFor:`shipping_${e}`,children:[e.replace("_"," "),":"]}),(0,n.jsx)(t.W,{type:r(e),placeholder:e.replace("_"," "),value:s[e]||"",name:e,onChange:a})]},e))})}},3029:function(e,s,l){"use strict";l.d(s,{b:function(){return i}});var n=l(5893);l(7294);var t=l(6528);let i=e=>{let{message:s}=e;return(0,n.jsxs)("div",{role:"alert",className:"alert alert-error text-white",children:[t.mz,(0,n.jsx)("span",{children:s})]})}},1670:function(e,s,l){"use strict";l.d(s,{W:function(){return t}});var n=l(5893);l(7294);let t=e=>{let{type:s,placeholder:l,value:t,name:i,onChange:a}=e;return(0,n.jsx)("input",{type:s,placeholder:l,value:t,name:i,onChange:a,className:"max-w-96 border border-gray-300 rounded-md"})}},6135:function(e,s,l){"use strict";l.d(s,{a:function(){return t}});var n=l(5893);l(7294);let t=()=>(0,n.jsx)("div",{className:"lg:mx-16 md:mx-12 mx-8 my-8 fade-in",children:(0,n.jsx)("div",{className:"flex justify-center h-screen",children:(0,n.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-row w-full items-center gap-4",children:[(0,n.jsx)("div",{className:"skeleton h-72 w-72 shrink-0 rounded-2xl"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 flex-grow",children:[(0,n.jsx)("span",{className:"loading loading-ring loading-lg"}),(0,n.jsx)("div",{className:"skeleton h-4 w-full"}),(0,n.jsx)("div",{className:"skeleton h-4 w-full"})]})]}),(0,n.jsx)("div",{className:"skeleton h-96 w-full"})]})})})},3250:function(e,s,l){"use strict";l.d(s,{SW:function(){return r},VM:function(){return t},ZH:function(){return a},u5:function(){return n},x7:function(){return i}});let n={id:"",name:"",description:"",full_price:0,sale_price:0,images:[],variations:[],category:"",tags:[],reviews:[],created_at:new Date,updated_at:new Date,sold_to_date:0,stock:0,sku:""},t={name:"",address_1:"",address_2:"",city:"",state:"",zip:"",country:"",email:"",phone:""},i=["Red","Blue","Green","Yellow","Purple","Pink","Black","White"],a=["paper","tools","kits"],r=["supplies","scissors","glue","tape","knives and blades","animals","masks","models","pens","markers","staples"]}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7250)}),_N_E=e.O()}]);